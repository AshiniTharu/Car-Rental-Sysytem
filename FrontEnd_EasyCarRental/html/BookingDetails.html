<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Booking Requests</title>
    <link rel="stylesheet" href="../css/DriveHome.css">
    <link rel="stylesheet" href="../asserts/css/bootstrap.min.css">
</head>
<body>

<section id="nav">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid" id="navcar">
            <a class="navbar-brand" href="#">
                <a id="head">EasyCar...</a>
            </a>
            <img src="../asserts/img/free-car-icon.png">

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" >Contact Us</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="../asserts/img/supervised_user_circle_black_24dp.svg" alt="">My Account
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#" id="userName">Log In as name</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Change Username</a></li>
                            <li><a class="dropdown-item" href="#">Change Password</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><img src="../asserts/img/power_settings_new_black_24dp.svg" alt="">Sign out</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</section>
<br>
<section>
    <table class="table table-dark table-hover">
        <thead>
        <tr>
            <th scope="col">Booking Id</th>
            <th scope="col">Car Register Number</th>
            <th scope="col">Jurney Start Time</th>
            <th scope="col">Jurney End Time</th>
        </tr>
        </thead>
        <tbody id="tblBookingDetails">

        </tbody>
    </table>
</section>

<script src="../asserts/js/bootstrap.min.js"></script>
<script src="../asserts/js/jquery-3.6.0.min.js"></script>
<script>
    window.onload=function () {
        $("#tblBookingDetails").empty();
        $.ajax({
            url: 'http://localhost:8080/Easy_Car_Rental/admin',
            method: 'get',
            async: true,
            dataType: "json", // convert response into JSON if valid
            success: function (data, textState, xhr) {
                // let ob = JSON.parse(data); // do the same thing
                for (let req of data) {
                    var row = `<tr><td>${req.bookingId}</td><td>${req.regNumber}</td><td>${req.startTime}</td><td>${req.endTime}</td></tr>`;
                    $("#tblBookingDetails").append(row);
                }
            }
        });
    }
</script>
</body>
</html>